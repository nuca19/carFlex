<script src="https://unpkg.com/htmx.org@1.9.10"></script>
<script>
    function fetchAnuncios() {
      fetch('/list_anuncios')
        .then(response => response.json())
        .then(data => {
          console.log(data);
          let cards = '<div style="display: flex; flex-wrap: wrap;">';
          data.forEach(item => {
          cards += `
            <a href="/anuncios/${item.codigo_veiculo}" style="text-decoration: none; color: inherit;">
                <div style="border: 1px solid #ccc; margin: 10px; padding: 10px; min-width: 300px;">
                <h2>${item.marca} ${item.modelo}</h2>
                <p>KM: ${item.km}</p>
                <p>Pre√ßo: ${item.preco}</p>
                <p>#${item.codigo_veiculo}</p>
                </div>
            </a>
          `;
          });
          cards += '</div>';

          document.getElementById('anuncios').innerHTML = cards;
        })
        .catch((error) => {
          console.error('Error:', error);
        });
    }

    // Call fetchAnuncios immediately when the script is loaded
    fetchAnuncios();
</script>
<link rel="stylesheet" href="../static/style.css">
<div id="navbar">
    <a href="/">CarFlex</a>
    <a href="/sobre">Sobre</a>
    <a href="/anuncios">Anuncios</a>
    <a href="/vender">Vender</a>
  </div>
<div class="content">
  <h1>ANUNCIOS</h1>
  <div id="anuncios"></div>